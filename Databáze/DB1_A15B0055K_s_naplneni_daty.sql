-- MySQL Script generated by MySQL Workbench
-- 01/02/17 18:02:10
-- Model: New Model    Version: 1.0
-- MySQL Workbench Forward Engineering

SET @OLD_UNIQUE_CHECKS=@@UNIQUE_CHECKS, UNIQUE_CHECKS=0;
SET @OLD_FOREIGN_KEY_CHECKS=@@FOREIGN_KEY_CHECKS, FOREIGN_KEY_CHECKS=0;
SET @OLD_SQL_MODE=@@SQL_MODE, SQL_MODE='TRADITIONAL,ALLOW_INVALID_DATES';

-- -----------------------------------------------------
-- Schema mydb
-- -----------------------------------------------------

-- -----------------------------------------------------
-- Table `Prava`
-- -----------------------------------------------------
DROP TABLE IF EXISTS `Prava` ;

CREATE TABLE IF NOT EXISTS `Prava` (
  `idPrava` INT NOT NULL AUTO_INCREMENT,
  `Nazev` VARCHAR(20) NOT NULL,
  PRIMARY KEY (`idPrava`))
ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `Uzivatel`
-- -----------------------------------------------------
DROP TABLE IF EXISTS `Uzivatel` ;

CREATE TABLE IF NOT EXISTS `Uzivatel` (
  `idUzivatel` INT NOT NULL AUTO_INCREMENT,
  `Login` VARCHAR(20) NOT NULL,
  `Heslo` VARCHAR(20) NOT NULL,
  `Jmeno` VARCHAR(45) NOT NULL,
  `Email` VARCHAR(45) NOT NULL,
  `idPrava` INT NOT NULL,
  `Smazano` INT ZEROFILL NULL,
  PRIMARY KEY (`idUzivatel`),
  UNIQUE INDEX `Login_UNIQUE` (`Login` ASC),
  INDEX `fk_Uzivatel_Prava1_idx` (`idPrava` ASC),
  CONSTRAINT `fk_Uzivatel_Prava1`
    FOREIGN KEY (`idPrava`)
    REFERENCES `Prava` (`idPrava`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION)
ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `Stav`
-- -----------------------------------------------------
DROP TABLE IF EXISTS `Stav` ;

CREATE TABLE IF NOT EXISTS `Stav` (
  `idStav` INT NOT NULL AUTO_INCREMENT,
  `Nazev` VARCHAR(45) NOT NULL,
  PRIMARY KEY (`idStav`))
ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `Prispevky`
-- -----------------------------------------------------
DROP TABLE IF EXISTS `Prispevky` ;

CREATE TABLE IF NOT EXISTS `Prispevky` (
  `idPrispevky` INT NOT NULL AUTO_INCREMENT,
  `idAutor` INT NOT NULL,
  `Nazev` VARCHAR(45) NOT NULL,
  `NazevSouboru` VARCHAR(45) NOT NULL,
  `Datum` TIMESTAMP(45) NULL DEFAULT CURRENT_TIMESTAMP,
  `Popis` VARCHAR(400) NOT NULL,
  `idStav` INT NOT NULL,
  `Smazano` INT ZEROFILL NULL,
  PRIMARY KEY (`idPrispevky`),
  INDEX `fk_Prispevky_Stav1_idx` (`idStav` ASC),
  CONSTRAINT `fk_Prispevky_Stav1`
    FOREIGN KEY (`idStav`)
    REFERENCES `Stav` (`idStav`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION)
ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `Hodnoceni`
-- -----------------------------------------------------
DROP TABLE IF EXISTS `Hodnoceni` ;

CREATE TABLE IF NOT EXISTS `Hodnoceni` (
  `Uzivatel_idUzivatel` INT NOT NULL,
  `Prispevky_idPrispevky` INT NOT NULL,
  `Zpracovani` INT NOT NULL,
  `Obsah` INT NOT NULL,
  `Styl` INT NULL,
  PRIMARY KEY (`Uzivatel_idUzivatel`, `Prispevky_idPrispevky`),
  INDEX `fk_Uzivatel_has_Prispevky_Prispevky1_idx` (`Prispevky_idPrispevky` ASC),
  INDEX `fk_Uzivatel_has_Prispevky_Uzivatel_idx` (`Uzivatel_idUzivatel` ASC),
  CONSTRAINT `fk_Uzivatel_has_Prispevky_Uzivatel`
    FOREIGN KEY (`Uzivatel_idUzivatel`)
    REFERENCES `Uzivatel` (`idUzivatel`)
    ON DELETE CASCADE
    ON UPDATE NO ACTION,
  CONSTRAINT `fk_Uzivatel_has_Prispevky_Prispevky1`
    FOREIGN KEY (`Prispevky_idPrispevky`)
    REFERENCES `Prispevky` (`idPrispevky`)
    ON DELETE CASCADE
    ON UPDATE NO ACTION)
ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `Scvhaleni`
-- -----------------------------------------------------
DROP TABLE IF EXISTS `Scvhaleni` ;

CREATE TABLE IF NOT EXISTS `Scvhaleni` (
  `idScvhaleni` INT NOT NULL AUTO_INCREMENT,
  `Nazev` VARCHAR(20) NOT NULL,
  PRIMARY KEY (`idScvhaleni`))
ENGINE = InnoDB;


SET SQL_MODE=@OLD_SQL_MODE;
SET FOREIGN_KEY_CHECKS=@OLD_FOREIGN_KEY_CHECKS;
SET UNIQUE_CHECKS=@OLD_UNIQUE_CHECKS;

-- -----------------------------------------------------
-- Data for table `Prava`
-- -----------------------------------------------------
START TRANSACTION;
INSERT INTO `Prava` (`idPrava`, `Nazev`) VALUES (1, 'Administrator');
INSERT INTO `Prava` (`idPrava`, `Nazev`) VALUES (2, 'Recenzent');
INSERT INTO `Prava` (`idPrava`, `Nazev`) VALUES (3, 'Autor');
INSERT INTO `Prava` (`idPrava`, `Nazev`) VALUES (4, 'Boss');

COMMIT;


-- -----------------------------------------------------
-- Data for table `Uzivatel`
-- -----------------------------------------------------
START TRANSACTION;
INSERT INTO `Uzivatel` (`idUzivatel`, `Login`, `Heslo`, `Jmeno`, `Email`, `idPrava`, `Smazano`) VALUES (1, 'admin', 'admin', 'admin', 'admin@admin.com', 1, 0);
INSERT INTO `Uzivatel` (`idUzivatel`, `Login`, `Heslo`, `Jmeno`, `Email`, `idPrava`, `Smazano`) VALUES (2, 'Jokertwo', 'heslo', 'Petr', 'p.lastovka@seznam.cz', 3, 0);
INSERT INTO `Uzivatel` (`idUzivatel`, `Login`, `Heslo`, `Jmeno`, `Email`, `idPrava`, `Smazano`) VALUES (3, 'autor', 'autor', 'autor', 'autor@autor.com', 3, 0);
INSERT INTO `Uzivatel` (`idUzivatel`, `Login`, `Heslo`, `Jmeno`, `Email`, `idPrava`, `Smazano`) VALUES (5, 'opus', 'opus', 'Pokus', 'pokus@pokus.com', 2, 0);
INSERT INTO `Uzivatel` (`idUzivatel`, `Login`, `Heslo`, `Jmeno`, `Email`, `idPrava`, `Smazano`) VALUES (6, 'Joke', 'joke', 'JokeTwo', 'joker@joker.com', 2, 0);
INSERT INTO `Uzivatel` (`idUzivatel`, `Login`, `Heslo`, `Jmeno`, `Email`, `idPrava`, `Smazano`) VALUES (7, 'sakal', 'pss', 'Jarolim', 'pokus@pokus.com', 3, 0);
INSERT INTO `Uzivatel` (`idUzivatel`, `Login`, `Heslo`, `Jmeno`, `Email`, `idPrava`, `Smazano`) VALUES (8, 'boss', 'boss', 'boss', 'boss@boss.com', 4, 0);
INSERT INTO `Uzivatel` (`idUzivatel`, `Login`, `Heslo`, `Jmeno`, `Email`, `idPrava`, `Smazano`) VALUES (9, 'recen', 'recen', 'recen', 'recen@recen.com', 2, 0);
INSERT INTO `Uzivatel` (`idUzivatel`, `Login`, `Heslo`, `Jmeno`, `Email`, `idPrava`, `Smazano`) VALUES (10, 'makac', 'makac', 'makac', 'makac@makac.com', 2, 0);
INSERT INTO `Uzivatel` (`idUzivatel`, `Login`, `Heslo`, `Jmeno`, `Email`, `idPrava`, `Smazano`) VALUES (11, 'jan', 'jan', 'Jan Veliký', 'jan@jan.com', 3, 0);
INSERT INTO `Uzivatel` (`idUzivatel`, `Login`, `Heslo`, `Jmeno`, `Email`, `idPrava`, `Smazano`) VALUES (12, 'Karel', 'jedna', 'Karel Nový', 'karel@karel.com', 3, 0);
INSERT INTO `Uzivatel` (`idUzivatel`, `Login`, `Heslo`, `Jmeno`, `Email`, `idPrava`, `Smazano`) VALUES (13, 'ahoj', 'ahoj', 'ahoj', 'ahoj@ahoj.com', 3, 0);
INSERT INTO `Uzivatel` (`idUzivatel`, `Login`, `Heslo`, `Jmeno`, `Email`, `idPrava`, `Smazano`) VALUES (14, 'han', 'han', 'han', 'han@han.com', 3, 0);

COMMIT;


-- -----------------------------------------------------
-- Data for table `Stav`
-- -----------------------------------------------------
START TRANSACTION;
INSERT INTO `Stav` (`idStav`, `Nazev`) VALUES (1, 'Schváleno');
INSERT INTO `Stav` (`idStav`, `Nazev`) VALUES (2, 'Odmítnuto');
INSERT INTO `Stav` (`idStav`, `Nazev`) VALUES (3, 'Hodnotí se');
INSERT INTO `Stav` (`idStav`, `Nazev`) VALUES (4, 'Nahráno');

COMMIT;


-- -----------------------------------------------------
-- Data for table `Prispevky`
-- -----------------------------------------------------
START TRANSACTION;
INSERT INTO `Prispevky` (`idPrispevky`, `idAutor`, `Nazev`, `NazevSouboru`, `Datum`, `Popis`, `idStav`, `Smazano`) VALUES (18, 5, 'Solný důl', '18.pdf', '2016-11-21 18:30:04', 'Desítky metrů pod ruským Jekatěrinburgem leží fascinující svět. Tamní solný důl je sice využívaný už jen z části, přesto se do něj jen tak někdo nepodívá, veřejnost už vůbec ne. Kvůli barevným vzorům, které pokrývají stěny i stropy, se mu říká psychedelický a lehce nadneseně by se dalo říct, že je opravdu zhmotněnou a vizuálně opojnou halucinací.', 1, 0);
INSERT INTO `Prispevky` (`idPrispevky`, `idAutor`, `Nazev`, `NazevSouboru`, `Datum`, `Popis`, `idStav`, `Smazano`) VALUES (19, 3, 'Advent se přiblížil', '19.pdf', '2016-11-21 18:31:59', 'Hrníčky s vánoční tematikou, v nichž prodejci podávají na vánočních trzích nápoje, se staly předmětem sběratelského zájmu. Jedny z nejoblíbenějších najdete v Drážďanech na Striezelmarktu. Letošním motivem na hrnku je pět zpívajících chlapců z pěveckého sboru Kreuzchor.', 2, 1);
INSERT INTO `Prispevky` (`idPrispevky`, `idAutor`, `Nazev`, `NazevSouboru`, `Datum`, `Popis`, `idStav`, `Smazano`) VALUES (20, 3, 'Zima v Německu', '20.pdf', '2016-11-21 18:34:20', 'Oblast Ammergauských Alp na jihu Bavorska nadchne lyžaře všech kategorií. Především rodiny s dětmi, které si chtějí vychutnat pravou alpskou lyžovačku a vše, co k ní patří, se tu budou cítit jako v sedmém nebi.', 1, 0);
INSERT INTO `Prispevky` (`idPrispevky`, `idAutor`, `Nazev`, `NazevSouboru`, `Datum`, `Popis`, `idStav`, `Smazano`) VALUES (22, 5, 'Vedro v plavkach', '22.pdf', '2016-11-23 20:06:24', 'Na světě existují místa, kde vám zmrzlina roztaje dřív, než stačíte říct Celsius. Pokud jste si dosud mysleli, že nejteplejším místem na planetě je Sahara, byli jste na omylu. Íránská poušť Lút je mnohem větší extrém, teploty tam přesahují i 50 stupňů. Zmrzlinu byste si naopak rozhodně nemohli dát v ruském Ojmjakonu, protože při -71,2 stupně by vám k ní přimrzl jazyk. Kde tedy vládnou ty neje', 1, 0);
INSERT INTO `Prispevky` (`idPrispevky`, `idAutor`, `Nazev`, `NazevSouboru`, `Datum`, `Popis`, `idStav`, `Smazano`) VALUES (23, 5, 'Tajemná šumava', '23.pdf', '2016-11-23 20:10:32', 'Je ukrytá v lese nad Velkým Radkovem, její stáří se odhaduje na více než sto let a přesně se neví, kdo, kdy a proč ji postavil.\r\n', 1, 0);
INSERT INTO `Prispevky` (`idPrispevky`, `idAutor`, `Nazev`, `NazevSouboru`, `Datum`, `Popis`, `idStav`, `Smazano`) VALUES (24, 3, '  Šumava se ponořila', '24.pdf', '2016-11-23 23:29:10', ' Stromy ohýbající se pod tíhou sněhu, zaváté a místy zledovatělé silnice, první běžkaři. Tak o víkendu vypadaly šumavské kopce.   ', 2, 0);
INSERT INTO `Prispevky` (`idPrispevky`, `idAutor`, `Nazev`, `NazevSouboru`, `Datum`, `Popis`, `idStav`, `Smazano`) VALUES (27, 3, 'Dlouhý lovec', '27.pdf', '2016-11-30 23:57:14', 'obrodružný příběh, odehrávající se v jihoamerické divočině na počátku 20. století. Kniha navazuje na předchozí 2 příběhy - Strýček Indián a Hadí ostrov. Tenkrát byli indiánští náčelníci odhodláni bránit svoji zem a slovo lovce platilo víc než zákon. Ilustroval Zdeněk Burian.', 1, 0);
INSERT INTO `Prispevky` (`idPrispevky`, `idAutor`, `Nazev`, `NazevSouboru`, `Datum`, `Popis`, `idStav`, `Smazano`) VALUES (28, 3, 'Pokus', '28.pdf', '2016-12-09 15:02:52', 'Popis', 3, 0);

COMMIT;


-- -----------------------------------------------------
-- Data for table `Hodnoceni`
-- -----------------------------------------------------
START TRANSACTION;
INSERT INTO `Hodnoceni` (`Uzivatel_idUzivatel`, `Prispevky_idPrispevky`, `Zpracovani`, `Obsah`, `Styl`) VALUES (2, 22, 3, 5, 4);
INSERT INTO `Hodnoceni` (`Uzivatel_idUzivatel`, `Prispevky_idPrispevky`, `Zpracovani`, `Obsah`, `Styl`) VALUES (2, 23, 5, 3, 2);
INSERT INTO `Hodnoceni` (`Uzivatel_idUzivatel`, `Prispevky_idPrispevky`, `Zpracovani`, `Obsah`, `Styl`) VALUES (2, 24, 2, 2, 2);
INSERT INTO `Hodnoceni` (`Uzivatel_idUzivatel`, `Prispevky_idPrispevky`, `Zpracovani`, `Obsah`, `Styl`) VALUES (5, 18, 1, 1, 1);
INSERT INTO `Hodnoceni` (`Uzivatel_idUzivatel`, `Prispevky_idPrispevky`, `Zpracovani`, `Obsah`, `Styl`) VALUES (5, 22, 3, 5, 5);
INSERT INTO `Hodnoceni` (`Uzivatel_idUzivatel`, `Prispevky_idPrispevky`, `Zpracovani`, `Obsah`, `Styl`) VALUES (5, 23, 4, 2, 1);
INSERT INTO `Hodnoceni` (`Uzivatel_idUzivatel`, `Prispevky_idPrispevky`, `Zpracovani`, `Obsah`, `Styl`) VALUES (5, 24, 1, 2, 3);
INSERT INTO `Hodnoceni` (`Uzivatel_idUzivatel`, `Prispevky_idPrispevky`, `Zpracovani`, `Obsah`, `Styl`) VALUES (5, 28, NULL, NULL, NULL);
INSERT INTO `Hodnoceni` (`Uzivatel_idUzivatel`, `Prispevky_idPrispevky`, `Zpracovani`, `Obsah`, `Styl`) VALUES (6, 18, 4, 4, 4);
INSERT INTO `Hodnoceni` (`Uzivatel_idUzivatel`, `Prispevky_idPrispevky`, `Zpracovani`, `Obsah`, `Styl`) VALUES (6, 19, 1, 1, 1);
INSERT INTO `Hodnoceni` (`Uzivatel_idUzivatel`, `Prispevky_idPrispevky`, `Zpracovani`, `Obsah`, `Styl`) VALUES (6, 20, 5, 3, 1);
INSERT INTO `Hodnoceni` (`Uzivatel_idUzivatel`, `Prispevky_idPrispevky`, `Zpracovani`, `Obsah`, `Styl`) VALUES (6, 22, 3, 4, 2);
INSERT INTO `Hodnoceni` (`Uzivatel_idUzivatel`, `Prispevky_idPrispevky`, `Zpracovani`, `Obsah`, `Styl`) VALUES (6, 23, 5, 5, 5);
INSERT INTO `Hodnoceni` (`Uzivatel_idUzivatel`, `Prispevky_idPrispevky`, `Zpracovani`, `Obsah`, `Styl`) VALUES (6, 24, 1, 2, 4);
INSERT INTO `Hodnoceni` (`Uzivatel_idUzivatel`, `Prispevky_idPrispevky`, `Zpracovani`, `Obsah`, `Styl`) VALUES (6, 27, NULL, NULL, NULL);
INSERT INTO `Hodnoceni` (`Uzivatel_idUzivatel`, `Prispevky_idPrispevky`, `Zpracovani`, `Obsah`, `Styl`) VALUES (6, 28, NULL, NULL, NULL);
INSERT INTO `Hodnoceni` (`Uzivatel_idUzivatel`, `Prispevky_idPrispevky`, `Zpracovani`, `Obsah`, `Styl`) VALUES (9, 18, 2, 3, 5);
INSERT INTO `Hodnoceni` (`Uzivatel_idUzivatel`, `Prispevky_idPrispevky`, `Zpracovani`, `Obsah`, `Styl`) VALUES (9, 19, 3, 4, 1);
INSERT INTO `Hodnoceni` (`Uzivatel_idUzivatel`, `Prispevky_idPrispevky`, `Zpracovani`, `Obsah`, `Styl`) VALUES (9, 20, 4, 1, 1);
INSERT INTO `Hodnoceni` (`Uzivatel_idUzivatel`, `Prispevky_idPrispevky`, `Zpracovani`, `Obsah`, `Styl`) VALUES (9, 27, 4, 4, 2);
INSERT INTO `Hodnoceni` (`Uzivatel_idUzivatel`, `Prispevky_idPrispevky`, `Zpracovani`, `Obsah`, `Styl`) VALUES (9, 28, 3, NULL, NULL);
INSERT INTO `Hodnoceni` (`Uzivatel_idUzivatel`, `Prispevky_idPrispevky`, `Zpracovani`, `Obsah`, `Styl`) VALUES (10, 19, 3, 3, 4);
INSERT INTO `Hodnoceni` (`Uzivatel_idUzivatel`, `Prispevky_idPrispevky`, `Zpracovani`, `Obsah`, `Styl`) VALUES (10, 20, 3, 3, 4);
INSERT INTO `Hodnoceni` (`Uzivatel_idUzivatel`, `Prispevky_idPrispevky`, `Zpracovani`, `Obsah`, `Styl`) VALUES (10, 27, NULL, NULL, NULL);

COMMIT;

